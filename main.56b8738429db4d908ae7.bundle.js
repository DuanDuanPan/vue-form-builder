(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1152:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_style_loader_dist_cjs_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ElementFormAdaptor_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(243);__webpack_require__.n(_node_modules_style_loader_dist_cjs_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ElementFormAdaptor_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__).a},1153:function(module,exports,__webpack_require__){(exports=__webpack_require__(242)(!1)).push([module.i,".el-form-item__tip{font-size:12px;line-height:12px;padding:10px 0 5px 0;color:#737373}",""]),module.exports=exports},1210:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_style_loader_dist_cjs_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ExampleActorComplex_vue_vue_type_style_index_0_id_278b5d60_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(244);__webpack_require__.n(_node_modules_style_loader_dist_cjs_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ExampleActorComplex_vue_vue_type_style_index_0_id_278b5d60_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},1211:function(module,exports,__webpack_require__){(exports=__webpack_require__(242)(!1)).push([module.i,".el-select[data-v-278b5d60]  .el-input{width:100px}",""]),module.exports=exports},1217:function(module,exports,__webpack_require__){var api=__webpack_require__(241),content=__webpack_require__(1218);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1218:function(module,exports,__webpack_require__){(exports=__webpack_require__(242)(!1)).push([module.i,".form-builder-example .el-card{margin-bottom:15px}.form-builder-example .el-card .el-card__header{padding:10px 20px}",""]),module.exports=exports},1219:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BasicUsage",(function(){return BasicUsage}));__webpack_require__(30),__webpack_require__(25),__webpack_require__(185),__webpack_require__(35),__webpack_require__(36);var define_property=__webpack_require__(126),define_property_default=__webpack_require__.n(define_property),define_properties=__webpack_require__(127),define_properties_default=__webpack_require__.n(define_properties),get_own_property_descriptors=__webpack_require__(80),get_own_property_descriptors_default=__webpack_require__.n(get_own_property_descriptors),for_each=__webpack_require__(40),for_each_default=__webpack_require__.n(for_each),get_own_property_descriptor=__webpack_require__(81),get_own_property_descriptor_default=__webpack_require__.n(get_own_property_descriptor),filter=__webpack_require__(79),filter_default=__webpack_require__.n(filter),get_own_property_symbols=__webpack_require__(82),get_own_property_symbols_default=__webpack_require__.n(get_own_property_symbols),object_keys=__webpack_require__(128),keys_default=__webpack_require__.n(object_keys),regenerator=__webpack_require__(85),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(170),__webpack_require__(168)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),concat=__webpack_require__(129),concat_default=__webpack_require__.n(concat),set_timeout=__webpack_require__(565),set_timeout_default=__webpack_require__.n(set_timeout),promise=__webpack_require__(109),promise_default=__webpack_require__.n(promise),stringify=__webpack_require__(249),stringify_default=__webpack_require__.n(stringify),defineProperty=__webpack_require__(92),defineProperty_default=__webpack_require__.n(defineProperty),vue_esm=__webpack_require__(10),vue_composition_api_module=__webpack_require__(8),index_esm=__webpack_require__(31),element_ui_common=__webpack_require__(569),element_ui_common_default=__webpack_require__.n(element_ui_common),vee_validate_full=__webpack_require__(169),map=(__webpack_require__(97),__webpack_require__(570)),map_default=__webpack_require__.n(map),cjs=__webpack_require__(571),cjs_default=__webpack_require__.n(cjs);function ownKeys(object,enumerableOnly){var keys=keys_default()(object);if(get_own_property_symbols_default.a){var symbols=get_own_property_symbols_default()(object);enumerableOnly&&(symbols=filter_default()(symbols).call(symbols,(function(sym){return get_own_property_descriptor_default()(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++){var _context3;if(source=null!=arguments[i]?arguments[i]:{},i%2)for_each_default()(_context3=ownKeys(Object(source),!0)).call(_context3,(function(key){defineProperty_default()(target,key,source[key])}));else if(get_own_property_descriptors_default.a)define_properties_default()(target,get_own_property_descriptors_default()(source));else{var _context4;for_each_default()(_context4=ownKeys(Object(source))).call(_context4,(function(key){define_property_default()(target,key,get_own_property_descriptor_default()(source,key))}))}}return target}var options={name:"form-builder",props:{form:{type:Object,required:!0},shares:{type:Object,default:function _default(){return{}}},config:{type:Array,required:!0},metadata:{type:Object,default:function _default(){return{}}}},setup:function setup(props){var _props$form=props.form;return{formValues:_props$form.formValues,updateFormValues:_props$form.updateFormValues}},data:function data(){return{}},computed:{},created:function created(){this.prepare()},methods:{prepare:function prepare(){var config=this.config,shares=this.shares,formValues=this.formValues,initialValues={};for_each_default()(config).call(config,(function(group,index){var _context;group._key="group_".concat(index),group.fields=group.fields||[],group.component=group.component||"div",group.fields=map_default()(_context=group.fields).call(_context,(function(comp){if(!comp.name)throw new Error("FormBuilder: name is required, config - ".concat(stringify_default()(comp)));return null!=comp.defaultValue&&null==formValues[comp.name]&&(initialValues[comp.name]=comp.defaultValue),cjs_default.a.all([{},shares,comp])}))})),this.updateFormValues(initialValues)},handleCommand:function handleCommand(){for(var _context2,_len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];this.$emit.apply(this,concat_default()(_context2=["command"]).call(_context2,args))}}};function createFormBuilder(){var _ref=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},_ref$components=_ref.components,components=void 0===_ref$components?{}:_ref$components;return _objectSpread(_objectSpread({},options),{},{components:components})}var components_FormBuildervue_type_script_lang_js_=options,componentNormalizer=__webpack_require__(38),components_ElementFormAdaptorvue_type_script_lang_js_=(Object(componentNormalizer.a)(components_FormBuildervue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",_vm._l(_vm.config,(function(group){return _c(group.component,_vm._b({key:group._key,tag:"component"},"component",group.props,!1),_vm._l(group.fields,(function(comp){return _c(comp.component,_vm._b({key:comp.name,tag:"component",attrs:{tip:comp.tip,tooltip:comp.tooltip,name:comp.name,hide:comp.hide,rules:comp.rules,label:comp.label,items:comp.items,props:comp.props,extend:comp.extend,metadata:_vm.metadata,formValues:_vm.formValues},on:{command:_vm.handleCommand},model:{value:_vm.formValues[comp.name],callback:function($$v){_vm.$set(_vm.formValues,comp.name,$$v)},expression:"formValues[comp.name]"}},"component",comp.props,!1))})),1)})),1)}),[],!1,null,null,null).exports,{name:"el-form-adaptor",props:{tip:String,tooltip:String,name:String,size:{type:String,default:"medium"},label:String,rules:{type:[String,Object]},value:{required:!1},props:{type:Object,default:function _default(){return{}},required:!1},items:{type:Array,default:function _default(){return[]},required:!1},extend:{type:Object,default:function _default(){return{}}},metadata:{type:Object,default:function _default(){return{}}},formValues:{type:Object,required:!1}},setup:function setup(props,context){var _useFormElement=Object(index_esm.b)(props,context);return{dirty:_useFormElement.dirty,isRequired:_useFormElement.isRequired,localValue:_useFormElement.localValue,setInitialValue:_useFormElement.setInitialValue,updateLocalValue:_useFormElement.updateLocalValue}},data:function data(){return{}},computed:{component:function component(){return this.extend.component||"el-input"},isSelect:function isSelect(){return"el-select"===this.component},isMultipleSelect:function isMultipleSelect(){return this.isSelect&&this.props.multiple},isRadio:function isRadio(){return"el-radio-group"===this.component},isCheckbox:function isCheckbox(){return"el-checkbox-group"===this.component}},created:function created(){var localValue=this.localValue,isMultipleSelect=this.isMultipleSelect,isCheckbox=this.isCheckbox;null==localValue&&(isMultipleSelect||isCheckbox)&&this.setInitialValue([])}}),ElementFormAdaptor=(__webpack_require__(1152),Object(componentNormalizer.a)(components_ElementFormAdaptorvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("validation-provider",{attrs:{rules:_vm.rules},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("el-form-item",{attrs:{label:_vm.label,size:_vm.size,required:_vm.isRequired,error:errors[0]},scopedSlots:_vm._u([{key:"label",fn:function(){return[_c("span",[_vm._v(_vm._s(_vm.label))]),_vm._v(" "),_vm.tooltip?_c("span",[_c("el-tooltip",{attrs:{content:_vm.tooltip,placement:"top"}},[_c("i",{staticClass:"el-icon-question"})])],1):_vm._e()]},proxy:!0}],null,!0)},[_vm._v(" "),_vm.isSelect?_c(_vm.component,_vm._b({tag:"component",attrs:{value:_vm.localValue},on:{input:_vm.updateLocalValue}},"component",_vm.props,!1),_vm._l(_vm.items,(function(item){return _c("el-option",{key:item.value,attrs:{value:item.value}},[_vm._v("\n        "+_vm._s(item.text)+"\n      ")])})),1):_vm.isRadio?_c(_vm.component,_vm._b({tag:"component",attrs:{value:_vm.localValue},on:{input:_vm.updateLocalValue}},"component",_vm.props,!1),_vm._l(_vm.items,(function(item){return _c("el-radio",{key:item.value,attrs:{label:item.value}},[_vm._v("\n        "+_vm._s(item.text)+"\n      ")])})),1):_vm.isCheckbox?_c(_vm.component,_vm._b({tag:"component",attrs:{value:_vm.localValue},on:{input:_vm.updateLocalValue}},"component",_vm.props,!1),_vm._l(_vm.items,(function(item){return _c("el-checkbox",{key:item.value,attrs:{label:item.value}},[_vm._v("\n        "+_vm._s(item.text)+"\n      ")])})),1):_c(_vm.component,_vm._b({tag:"component",attrs:{value:_vm.localValue},on:{input:_vm.updateLocalValue}},"component",_vm.props,!1)),_vm._v(" "),_vm.tip?_c("div",{staticClass:"el-form-item__tip"},[_vm._v(_vm._s(_vm.tip))]):_vm._e()],1)]}}])})}),[],!1,null,null,null).exports),starts_with=__webpack_require__(572),starts_with_default=__webpack_require__.n(starts_with),components_ExampleChannelvue_type_script_lang_js_={name:"example-channel",props:{name:String,tip:{type:String,default:"支持中文名、拼音首字母检索"},tooltip:String,hide:Boolean,rules:{type:[String,Object]},value:{required:!1},extend:Object,metadata:Object,formValues:{type:Object,required:!1}},setup:function setup(props,context){var _useFormElement=Object(index_esm.b)(props,context);return{dirty:_useFormElement.dirty,isRequired:_useFormElement.isRequired,localValue:_useFormElement.localValue,setInitialValue:_useFormElement.setInitialValue,updateLocalValue:_useFormElement.updateLocalValue}},data:function data(){return{filteredChannels:[]}},computed:{channels:function channels(){return this.metadata.channels||[]},showChannels:function showChannels(){var channels=this.channels,filteredChannels=this.filteredChannels;return filteredChannels.length?filteredChannels:channels}},methods:{filterChannel:function filterChannel(word){var _context,like=function(str){return starts_with_default()(str).call(str,word)};word?this.filteredChannels=filter_default()(_context=this.channels).call(_context,(function(ch){return like(ch.name)||like(ch.code)})):this.filteredChannels=this.channels}}},ExampleChannel=Object(componentNormalizer.a)(components_ExampleChannelvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("validation-provider",{attrs:{rules:_vm.rules},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("el-form-item",{attrs:{label:"频道",size:"medium",required:_vm.isRequired,error:errors[0]}},[_c("el-select",{attrs:{clearable:"",filterable:"",disabled:!!_vm.formValues.exampleId,"filter-method":_vm.filterChannel,value:_vm.localValue,placeholder:"请输入关键词进行搜索"},on:{input:_vm.updateLocalValue}},_vm._l(_vm.showChannels,(function(ch){return _c("el-option",{key:ch.id,attrs:{value:ch.id,label:ch.name}},[_c("span",[_vm._v(_vm._s(ch.name)+" - "+_vm._s(ch.id))])])})),1),_vm._v(" "),_vm.tip?_c("div",{staticClass:"el-form-item__tip"},[_vm._v(_vm._s(_vm.tip))]):_vm._e()],1)]}}])})}),[],!1,null,"61868089",null).exports,components_ExampleNamevue_type_script_lang_js_={name:"example-name",props:{name:String,tip:String,tooltip:String,hide:Boolean,rules:{type:[String,Object]},extend:Object,metadata:Object,value:{required:!1},formValues:{type:Object,required:!1}},setup:function setup(props,context){var _useFormElement=Object(index_esm.b)(props,context);return{dirty:_useFormElement.dirty,isRequired:_useFormElement.isRequired,localValue:_useFormElement.localValue,setInitialValue:_useFormElement.setInitialValue,updateLocalValue:_useFormElement.updateLocalValue}},data:function data(){return{}},methods:{doSomething:function doSomething(){this.$emit("command","doSomething",{id:123456})}}},ExampleName=Object(componentNormalizer.a)(components_ExampleNamevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("validation-provider",{attrs:{rules:_vm.rules},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("el-form-item",{attrs:{label:"标题",size:"medium",required:_vm.isRequired,error:errors[0]}},[_c("el-input",{attrs:{clearable:"",value:_vm.localValue,type:"text",placeholder:"标题"},on:{input:_vm.updateLocalValue},scopedSlots:_vm._u([{key:"append",fn:function(){return[_c("el-tooltip",{attrs:{content:"通过事件触发整体表单操作",placement:"top"}},[_c("el-button",{attrs:{icon:"el-icon-phone-outline"},on:{click:_vm.doSomething}},[_vm._v("触发表单事件")])],1)]},proxy:!0}],null,!0)}),_vm._v(" "),_vm.tip?_c("div",{staticClass:"el-form-item__tip"},[_vm._v(_vm._s(_vm.tip))]):_vm._e()],1)]}}])})}),[],!1,null,"64feab46",null).exports,components_ExampleTypevue_type_script_lang_js_={name:"example-type",props:{name:String,tip:String,tooltip:String,hide:Boolean,rules:{type:[String,Object]},value:{required:!1},defaultValue:{required:!1},items:{type:Array,default:function _default(){return[{value:1,text:"正片"},{value:2,text:"花絮"}]}},extend:Object,metadata:Object,formValues:{type:Object,required:!1}},setup:function setup(props,context){var _useFormElement=Object(index_esm.b)(props,context);return{dirty:_useFormElement.dirty,isRequired:_useFormElement.isRequired,localValue:_useFormElement.localValue,setInitialValue:_useFormElement.setInitialValue,updateLocalValue:_useFormElement.updateLocalValue}},data:function data(){return{}},created:function created(){this.localValue||this.setInitialValue(this.defaultValue)}},ExampleType=Object(componentNormalizer.a)(components_ExampleTypevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("validation-provider",{attrs:{rules:_vm.rules},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("el-form-item",{attrs:{label:"节目类型",size:"medium",required:_vm.isRequired,error:errors[0]}},[_c("el-radio-group",{attrs:{value:_vm.localValue},on:{input:_vm.updateLocalValue}},_vm._l(_vm.items,(function(item){return _c("el-radio",{key:item.value,attrs:{label:item.value}},[_vm._v("\n        "+_vm._s(item.text)+"\n      ")])})),1),_vm._v(" "),_vm.tip?_c("div",{staticClass:"el-form-item__tip"},[_vm._v(_vm._s(_vm.tip))]):_vm._e()],1)]}}])})}),[],!1,null,"8b654728",null).exports,slicedToArray=__webpack_require__(573),slicedToArray_default=__webpack_require__.n(slicedToArray),components_ExampleActorComplexvue_type_script_lang_js_={name:"example-actor-complex",props:{name:String,tip:{type:String,default:"必须同时填写导演、主演才有效"},tooltip:String,hide:Boolean,rules:{type:[String,Object]},value:{required:!1},extend:Object,metadata:Object,formValues:{type:Object,required:!1}},setup:function setup(props,context){var _useFormElement=Object(index_esm.b)(props,context);return{dirty:_useFormElement.dirty,isRequired:_useFormElement.isRequired,localValue:_useFormElement.localValue,watchPropValue:_useFormElement.watchPropValue,setInitialValue:_useFormElement.setInitialValue,updateLocalValue:_useFormElement.updateLocalValue}},data:function data(){return{actor:{director:"",protagonist:""}}},watch:{actor:{handler:function handler(){this.updateLocalValue(this.getActorValue())},deep:!0}},created:function created(){var _this=this;this.setActorValue(this.value),this.watchPropValue((function(value){_this.setActorValue(value)}))},methods:{getActorValue:function getActorValue(){var _this$actor=this.actor,director=_this$actor.director,protagonist=_this$actor.protagonist;return director&&protagonist?[director,protagonist]:[]},setActorValue:function setActorValue(){var value=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],_value=slicedToArray_default()(value,2),_value$=_value[0],director=void 0===_value$?"":_value$,_value$2=_value[1],protagonist=void 0===_value$2?"":_value$2;this.actor={director:director,protagonist:protagonist}}}},components=(__webpack_require__(1210),{ExampleChannel:ExampleChannel,ExampleName:ExampleName,ExampleType:ExampleType,ExampleActorComplex:Object(componentNormalizer.a)(components_ExampleActorComplexvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"el-form-adaptor"},[_c("validation-provider",{attrs:{rules:_vm.rules},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("el-form-item",{attrs:{label:"人物",size:"medium",required:_vm.isRequired,error:errors[0]}},[_c("el-input",{attrs:{clearable:"",type:"text",placeholder:"请填写导演姓名"},model:{value:_vm.actor.director,callback:function($$v){_vm.$set(_vm.actor,"director",$$v)},expression:"actor.director"}},[_c("template",{slot:"prepend"},[_vm._v("导演")])],2)],1)]}}])}),_vm._v(" "),_c("validation-provider",{attrs:{rules:_vm.rules},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("el-form-item",{attrs:{size:"medium",error:errors[0]}},[_c("el-input",{attrs:{clearable:"",type:"text",placeholder:"请填写主演姓名"},model:{value:_vm.actor.protagonist,callback:function($$v){_vm.$set(_vm.actor,"protagonist",$$v)},expression:"actor.protagonist"}},[_c("template",{slot:"prepend"},[_vm._v("主演")])],2),_vm._v(" "),_vm.tip?_c("div",{staticClass:"el-form-item__tip"},[_vm._v(_vm._s(_vm.tip))]):_vm._e()],1)]}}])})],1)}),[],!1,null,"278b5d60",null).exports});__webpack_require__(1212),__webpack_require__(1217);function FormBuilder_stories_ownKeys(object,enumerableOnly){var keys=keys_default()(object);if(get_own_property_symbols_default.a){var symbols=get_own_property_symbols_default()(object);enumerableOnly&&(symbols=filter_default()(symbols).call(symbols,(function(sym){return get_own_property_descriptor_default()(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function FormBuilder_stories_objectSpread(target){for(var source,i=1;i<arguments.length;i++){var _context6;if(source=null!=arguments[i]?arguments[i]:{},i%2)for_each_default()(_context6=FormBuilder_stories_ownKeys(Object(source),!0)).call(_context6,(function(key){defineProperty_default()(target,key,source[key])}));else if(get_own_property_descriptors_default.a)define_properties_default()(target,get_own_property_descriptors_default()(source));else{var _context7;for_each_default()(_context7=FormBuilder_stories_ownKeys(Object(source))).call(_context7,(function(key){define_property_default()(target,key,get_own_property_descriptor_default()(source,key))}))}}return target}__webpack_require__(537).withSource;var addSourceDecorator=__webpack_require__(537).addSource;vue_esm.default.use(vue_composition_api_module.b),vue_esm.default.use(element_ui_common_default.a),Object(vee_validate_full.localize)({zh:{name:"zh",messages:{max:"该字段最大长度为 {length} 个字符",min:"该字段最小长度为 {length} 个字符",required:"该字段不能为空"}}}),Object(vee_validate_full.localize)("zh"),vue_esm.default.component("ValidationProvider",vee_validate_full.ValidationProvider),vue_esm.default.component("ValidationObserver",vee_validate_full.ValidationObserver);var BasicUsage=addSourceDecorator((function(){return{template:'\n    <div class="form-builder-example">\n      <validation-observer ref="observer" v-slot="{ invalid }">\n        <el-row :gutter="10">\n          <el-col :span="12" :xs="24">\n            <el-form\n              label-width="80px"\n              v-loading="loading"\n            >\n              <el-card v-if="!formConfig.length">\n                <div class="placeholder"></div>\n              </el-card>\n              <form-builder\n                @command="handleCommand"\n                :form="form"\n                :shares="formShares"\n                :config="formConfig"\n                :metadata="metadata"\n              ></form-builder>\n\n              <div class="form-action">\n                <el-button :disabled="loading" type="primary" @click="save">\n                  提交\n                </el-button>\n              </div>\n            </el-form>\n          </el-col>\n          <el-col :span="12" :xs="24">\n            <el-card header="表单配置">\n              <el-input type="textarea" v-model="formConfigJSON" rows="45" />\n            </el-card>\n          </el-col>\n        </el-row>\n      </validation-observer>\n      <el-dialog title="提交结果" :visible.sync="showResultModal" width="80%">\n        <pre>{{ JSON.stringify(formValues, null, 4) }}</pre>\n        <span slot="footer" class="dialog-footer">\n          <el-button type="primary" @click="showResultModal = false">确 定</el-button>\n        </span>\n      </el-dialog>\n    </div>\n  ',components:{FormBuilder:createFormBuilder({components:FormBuilder_stories_objectSpread({ElFormAdaptor:ElementFormAdaptor},components)})},setup:function setup(){var form=Object(index_esm.a)(),formValues=form.formValues,setInitialFormValues=form.setInitialFormValues,updateFormValues=form.updateFormValues,_useLoading=Object(index_esm.c)();return{form:form,formValues:formValues,setInitialFormValues:setInitialFormValues,updateFormValues:updateFormValues,loading:_useLoading.loading,withLoading:_useLoading.withLoading}},data:function data(){return{showResultModal:!1,metadata:{},formShares:{size:"medium",props:{clearable:!0}},formConfig:[],formConfigJSON:stringify_default()([{component:"el-card",props:{header:"基础信息"},fields:[{name:"channel",component:"ExampleChannel",rules:{required:!0}},{name:"name",component:"ExampleName",rules:{required:!0}},{name:"comment",component:"ElFormAdaptor",label:"评语",tip:"一句话评价（使用 FormAdaptor 的自定义字段）",tooltip:"精彩点评",rules:{required:!0,max:50,min:10},props:{placeholder:"不超过 20 个字"}}]},{component:"el-card",props:{header:"高级信息"},fields:[{name:"type",component:"ExampleType",defaultValue:2},{name:"actor",component:"ExampleActorComplex"},{name:"date",component:"ElFormAdaptor",label:"发行日期",extend:{component:"el-date-picker"},props:{placeholder:"请通过日期选择器"}},{name:"description",component:"ElFormAdaptor",label:"描述",tip:"剧情描述（使用 FormAdaptor 的自定义字段）",rules:{max:180},props:{type:"textarea",rows:5,placeholder:"不超过 180 个字"}}]}],null,2)}},watch:{formConfigJSON:{handler:function handler(){try{this.formConfig=JSON.parse(this.formConfigJSON)}catch(err){}},immediate:!0}},created:function created(){this.registerEvents(),this.renderForm()},methods:{delay:function delay(){var timeout=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1e3;return new promise_default.a((function(resolve){set_timeout_default()((function(){resolve()}),timeout)}))},getInitialValues:function getInitialValues(){return{}},registerEvents:function registerEvents(){var _this=this;this.$on("doSomething",(function(){_this.$message({type:"success",message:"触发表单事件成功！"})}))},handleCommand:function handleCommand(cmd){for(var _context,_len=arguments.length,args=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];this.$emit.apply(this,concat_default()(_context=[cmd]).call(_context,args))},renderForm:function renderForm(){var _this2=this;return asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){return regenerator_default.a.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",_this2.withLoading((function(){return promise_default.a.all([_this2.getRenderMetadata(),_this2.getFormValues()])})));case 1:case"end":return _context2.stop()}}),_callee)})))()},getRenderMetadata:function getRenderMetadata(){var _this3=this;return asyncToGenerator_default()(regenerator_default.a.mark((function _callee2(){return regenerator_default.a.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,_this3.delay();case 2:return _context3.abrupt("return",promise_default.a.resolve({channels:[{id:1,code:"dy",name:"电影"},{id:2,code:"dm",name:"动漫"}]}).then((function(data){_this3.metadata=data})));case 3:case"end":return _context3.stop()}}),_callee2)})))()},getFormValues:function getFormValues(){var _this4=this;return asyncToGenerator_default()(regenerator_default.a.mark((function _callee3(){return regenerator_default.a.wrap((function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,_this4.delay();case 2:return _context4.abrupt("return",promise_default.a.resolve({channel:2,name:"Form Builder",comment:"A powerful form builder",actor:["Yang","Zhang"],description:"What a nice tool"}).then((function(data){var formValues=_this4.formValues;_this4.updateFormValues(FormBuilder_stories_objectSpread(FormBuilder_stories_objectSpread({},formValues),data))})));case 3:case"end":return _context4.stop()}}),_callee3)})))()},save:function save(){var _this5=this;return asyncToGenerator_default()(regenerator_default.a.mark((function _callee4(){return regenerator_default.a.wrap((function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,_this5.$refs.observer.validate();case 2:if(_context5.sent){_context5.next=6;break}return _this5.$message({type:"error",message:"部分表单填写错误，请检查！"}),_context5.abrupt("return");case 6:_this5.showResultModal=!0;case 7:case"end":return _context5.stop()}}),_callee4)})))()}}}}),{__STORY__:"import Vue from 'vue';\nimport VueCompositionApi from '@vue/composition-api';\nimport { useForm, useLoading } from '@fext/vue-use';\nimport ElementUI from 'element-ui';\nimport {\n  ValidationProvider,\n  ValidationObserver,\n  localize\n} from 'vee-validate/dist/vee-validate.full';\n\nimport markdown from './FormBuilder.md';\nimport { createFormBuilder } from '@/src';\nimport { ElFormAdaptor } from '@/src/el-form-adaptor';\nimport ExampleComponents from './components';\n\nimport 'element-ui/lib/theme-chalk/index.css';\nimport './style.scss';\n\nVue.use(VueCompositionApi);\nVue.use(ElementUI);\n\nlocalize({\n  zh: {\n    name: 'zh',\n    messages: {\n      max: '该字段最大长度为 {length} 个字符',\n      min: '该字段最小长度为 {length} 个字符',\n      required: '该字段不能为空'\n    }\n  }\n});\n\nlocalize('zh');\n\nVue.component('ValidationProvider', ValidationProvider);\nVue.component('ValidationObserver', ValidationObserver);\n\n// =============== Start of Basic Usage =============== //\n\nexport const BasicUsage = () => ({\n  template: `\n    <div class=\"form-builder-example\">\n      <validation-observer ref=\"observer\" v-slot=\"{ invalid }\">\n        <el-row :gutter=\"10\">\n          <el-col :span=\"12\" :xs=\"24\">\n            <el-form\n              label-width=\"80px\"\n              v-loading=\"loading\"\n            >\n              <el-card v-if=\"!formConfig.length\">\n                <div class=\"placeholder\"></div>\n              </el-card>\n              <form-builder\n                @command=\"handleCommand\"\n                :form=\"form\"\n                :shares=\"formShares\"\n                :config=\"formConfig\"\n                :metadata=\"metadata\"\n              ></form-builder>\n\n              <div class=\"form-action\">\n                <el-button :disabled=\"loading\" type=\"primary\" @click=\"save\">\n                  提交\n                </el-button>\n              </div>\n            </el-form>\n          </el-col>\n          <el-col :span=\"12\" :xs=\"24\">\n            <el-card header=\"表单配置\">\n              <el-input type=\"textarea\" v-model=\"formConfigJSON\" rows=\"45\" />\n            </el-card>\n          </el-col>\n        </el-row>\n      </validation-observer>\n      <el-dialog title=\"提交结果\" :visible.sync=\"showResultModal\" width=\"80%\">\n        <pre>{{ JSON.stringify(formValues, null, 4) }}</pre>\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button type=\"primary\" @click=\"showResultModal = false\">确 定</el-button>\n        </span>\n      </el-dialog>\n    </div>\n  `,\n\n  components: {\n    FormBuilder: createFormBuilder({\n      components: {\n        ElFormAdaptor,\n\n        ...ExampleComponents\n      }\n    })\n  },\n\n  setup() {\n    const form = useForm();\n    const { formValues, setInitialFormValues, updateFormValues } = form;\n    const { loading, withLoading } = useLoading();\n\n    return {\n      // from form composition\n      form,\n      formValues,\n      setInitialFormValues,\n      updateFormValues,\n\n      // from loading composition\n      loading,\n      withLoading\n    };\n  },\n\n  data() {\n    return {\n      showResultModal: false,\n\n      metadata: {},\n\n      formShares: {\n        size: 'medium',\n\n        props: {\n          clearable: true\n        }\n      },\n\n      formConfig: [],\n\n      formConfigJSON: JSON.stringify(\n        [\n          {\n            component: 'el-card',\n            props: {\n              header: '基础信息'\n            },\n            fields: [\n              {\n                name: 'channel',\n                component: 'ExampleChannel',\n                rules: {\n                  required: true\n                }\n              },\n              {\n                name: 'name',\n                component: 'ExampleName',\n                rules: {\n                  required: true\n                }\n              },\n              {\n                name: 'comment',\n                component: 'ElFormAdaptor',\n                label: '评语',\n                tip: '一句话评价（使用 FormAdaptor 的自定义字段）',\n                tooltip: '精彩点评',\n                rules: {\n                  required: true,\n                  max: 50,\n                  min: 10\n                },\n                props: {\n                  placeholder: '不超过 20 个字'\n                }\n              }\n            ]\n          },\n          {\n            component: 'el-card',\n            props: {\n              header: '高级信息'\n            },\n            fields: [\n              {\n                name: 'type',\n                component: 'ExampleType',\n                defaultValue: 2\n              },\n              {\n                name: 'actor',\n                component: 'ExampleActorComplex'\n              },\n              {\n                name: 'date',\n                component: 'ElFormAdaptor',\n                label: '发行日期',\n                extend: {\n                  component: 'el-date-picker'\n                },\n                props: {\n                  placeholder: '请通过日期选择器'\n                }\n              },\n              {\n                name: 'description',\n                component: 'ElFormAdaptor',\n                label: '描述',\n                tip: '剧情描述（使用 FormAdaptor 的自定义字段）',\n                rules: {\n                  max: 180\n                },\n                props: {\n                  type: 'textarea',\n                  rows: 5,\n                  placeholder: '不超过 180 个字'\n                }\n              }\n            ]\n          }\n        ],\n        null,\n        2\n      )\n    };\n  },\n\n  watch: {\n    formConfigJSON: {\n      handler(value) {\n        try {\n          this.formConfig = JSON.parse(this.formConfigJSON);\n        } catch (err) {\n          // this.formConfig = this.formConfig;\n        }\n      },\n      immediate: true\n    }\n  },\n\n  created() {\n    this.registerEvents();\n    this.renderForm();\n  },\n\n  methods: {\n    delay(timeout = 1000) {\n      return new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n        }, timeout);\n      });\n    },\n\n    getInitialValues() {\n      return {};\n    },\n\n    registerEvents() {\n      this.$on('doSomething', options => {\n        this.$message({\n          type: 'success',\n          message: '触发表单事件成功！'\n        });\n      });\n    },\n\n    handleCommand(cmd, ...args) {\n      this.$emit(cmd, ...args);\n    },\n\n    async renderForm() {\n      return this.withLoading(() => {\n        return Promise.all([this.getRenderMetadata(), this.getFormValues()]);\n      });\n    },\n\n    async getRenderMetadata() {\n      await this.delay();\n\n      return Promise.resolve({\n        channels: [\n          {\n            id: 1,\n            code: 'dy',\n            name: '电影'\n          },\n          {\n            id: 2,\n            code: 'dm',\n            name: '动漫'\n          }\n        ]\n      }).then(data => {\n        this.metadata = data;\n      });\n    },\n\n    async getFormValues() {\n      await this.delay();\n\n      return Promise.resolve({\n        channel: 2,\n        name: 'Form Builder',\n        comment: 'A powerful form builder',\n        actor: ['Yang', 'Zhang'],\n        description: 'What a nice tool'\n      }).then(data => {\n        const { formValues } = this;\n\n        this.updateFormValues({\n          ...formValues,\n          ...data\n        });\n      });\n    },\n\n    async save() {\n      const valid = await this.$refs.observer.validate();\n\n      if (!valid) {\n        this.$message({\n          type: 'error',\n          message: '部分表单填写错误，请检查！'\n        });\n        return;\n      }\n\n      this.showResultModal = true;\n    }\n  }\n});\n\nBasicUsage.story = {\n  name: 'Basic Usage'\n};\n\n// =============== End of Basic Usage =============== //\n\nexport default {\n  title: 'UI|FormBuilder',\n  parameters: {\n    notes: {\n      markdown\n    }\n  }\n};\n",__ADDS_MAP__:{"ui-formbuilder--basic-usage":{startLoc:{col:26,line:40},endLoc:{col:2,line:320},startBody:{col:26,line:40},endBody:{col:2,line:320}}},__MAIN_FILE_LOCATION__:"/FormBuilder.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/runner/work/element-form-builder/element-form-builder/stories/formbuilder",__IDS_TO_FRAMEWORKS__:{}});BasicUsage.story={name:"Basic Usage"};__webpack_exports__.default={title:"UI|FormBuilder",parameters:{storySource:{source:"import Vue from 'vue';\nimport VueCompositionApi from '@vue/composition-api';\nimport { useForm, useLoading } from '@fext/vue-use';\nimport ElementUI from 'element-ui';\nimport {\n  ValidationProvider,\n  ValidationObserver,\n  localize\n} from 'vee-validate/dist/vee-validate.full';\n\nimport markdown from './FormBuilder.md';\nimport { createFormBuilder } from '@/src';\nimport { ElFormAdaptor } from '@/src/el-form-adaptor';\nimport ExampleComponents from './components';\n\nimport 'element-ui/lib/theme-chalk/index.css';\nimport './style.scss';\n\nVue.use(VueCompositionApi);\nVue.use(ElementUI);\n\nlocalize({\n  zh: {\n    name: 'zh',\n    messages: {\n      max: '该字段最大长度为 {length} 个字符',\n      min: '该字段最小长度为 {length} 个字符',\n      required: '该字段不能为空'\n    }\n  }\n});\n\nlocalize('zh');\n\nVue.component('ValidationProvider', ValidationProvider);\nVue.component('ValidationObserver', ValidationObserver);\n\n// =============== Start of Basic Usage =============== //\n\nexport const BasicUsage = () => ({\n  template: `\n    <div class=\"form-builder-example\">\n      <validation-observer ref=\"observer\" v-slot=\"{ invalid }\">\n        <el-row :gutter=\"10\">\n          <el-col :span=\"12\" :xs=\"24\">\n            <el-form\n              label-width=\"80px\"\n              v-loading=\"loading\"\n            >\n              <el-card v-if=\"!formConfig.length\">\n                <div class=\"placeholder\"></div>\n              </el-card>\n              <form-builder\n                @command=\"handleCommand\"\n                :form=\"form\"\n                :shares=\"formShares\"\n                :config=\"formConfig\"\n                :metadata=\"metadata\"\n              ></form-builder>\n\n              <div class=\"form-action\">\n                <el-button :disabled=\"loading\" type=\"primary\" @click=\"save\">\n                  提交\n                </el-button>\n              </div>\n            </el-form>\n          </el-col>\n          <el-col :span=\"12\" :xs=\"24\">\n            <el-card header=\"表单配置\">\n              <el-input type=\"textarea\" v-model=\"formConfigJSON\" rows=\"45\" />\n            </el-card>\n          </el-col>\n        </el-row>\n      </validation-observer>\n      <el-dialog title=\"提交结果\" :visible.sync=\"showResultModal\" width=\"80%\">\n        <pre>{{ JSON.stringify(formValues, null, 4) }}</pre>\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button type=\"primary\" @click=\"showResultModal = false\">确 定</el-button>\n        </span>\n      </el-dialog>\n    </div>\n  `,\n\n  components: {\n    FormBuilder: createFormBuilder({\n      components: {\n        ElFormAdaptor,\n\n        ...ExampleComponents\n      }\n    })\n  },\n\n  setup() {\n    const form = useForm();\n    const { formValues, setInitialFormValues, updateFormValues } = form;\n    const { loading, withLoading } = useLoading();\n\n    return {\n      // from form composition\n      form,\n      formValues,\n      setInitialFormValues,\n      updateFormValues,\n\n      // from loading composition\n      loading,\n      withLoading\n    };\n  },\n\n  data() {\n    return {\n      showResultModal: false,\n\n      metadata: {},\n\n      formShares: {\n        size: 'medium',\n\n        props: {\n          clearable: true\n        }\n      },\n\n      formConfig: [],\n\n      formConfigJSON: JSON.stringify(\n        [\n          {\n            component: 'el-card',\n            props: {\n              header: '基础信息'\n            },\n            fields: [\n              {\n                name: 'channel',\n                component: 'ExampleChannel',\n                rules: {\n                  required: true\n                }\n              },\n              {\n                name: 'name',\n                component: 'ExampleName',\n                rules: {\n                  required: true\n                }\n              },\n              {\n                name: 'comment',\n                component: 'ElFormAdaptor',\n                label: '评语',\n                tip: '一句话评价（使用 FormAdaptor 的自定义字段）',\n                tooltip: '精彩点评',\n                rules: {\n                  required: true,\n                  max: 50,\n                  min: 10\n                },\n                props: {\n                  placeholder: '不超过 20 个字'\n                }\n              }\n            ]\n          },\n          {\n            component: 'el-card',\n            props: {\n              header: '高级信息'\n            },\n            fields: [\n              {\n                name: 'type',\n                component: 'ExampleType',\n                defaultValue: 2\n              },\n              {\n                name: 'actor',\n                component: 'ExampleActorComplex'\n              },\n              {\n                name: 'date',\n                component: 'ElFormAdaptor',\n                label: '发行日期',\n                extend: {\n                  component: 'el-date-picker'\n                },\n                props: {\n                  placeholder: '请通过日期选择器'\n                }\n              },\n              {\n                name: 'description',\n                component: 'ElFormAdaptor',\n                label: '描述',\n                tip: '剧情描述（使用 FormAdaptor 的自定义字段）',\n                rules: {\n                  max: 180\n                },\n                props: {\n                  type: 'textarea',\n                  rows: 5,\n                  placeholder: '不超过 180 个字'\n                }\n              }\n            ]\n          }\n        ],\n        null,\n        2\n      )\n    };\n  },\n\n  watch: {\n    formConfigJSON: {\n      handler(value) {\n        try {\n          this.formConfig = JSON.parse(this.formConfigJSON);\n        } catch (err) {\n          // this.formConfig = this.formConfig;\n        }\n      },\n      immediate: true\n    }\n  },\n\n  created() {\n    this.registerEvents();\n    this.renderForm();\n  },\n\n  methods: {\n    delay(timeout = 1000) {\n      return new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n        }, timeout);\n      });\n    },\n\n    getInitialValues() {\n      return {};\n    },\n\n    registerEvents() {\n      this.$on('doSomething', options => {\n        this.$message({\n          type: 'success',\n          message: '触发表单事件成功！'\n        });\n      });\n    },\n\n    handleCommand(cmd, ...args) {\n      this.$emit(cmd, ...args);\n    },\n\n    async renderForm() {\n      return this.withLoading(() => {\n        return Promise.all([this.getRenderMetadata(), this.getFormValues()]);\n      });\n    },\n\n    async getRenderMetadata() {\n      await this.delay();\n\n      return Promise.resolve({\n        channels: [\n          {\n            id: 1,\n            code: 'dy',\n            name: '电影'\n          },\n          {\n            id: 2,\n            code: 'dm',\n            name: '动漫'\n          }\n        ]\n      }).then(data => {\n        this.metadata = data;\n      });\n    },\n\n    async getFormValues() {\n      await this.delay();\n\n      return Promise.resolve({\n        channel: 2,\n        name: 'Form Builder',\n        comment: 'A powerful form builder',\n        actor: ['Yang', 'Zhang'],\n        description: 'What a nice tool'\n      }).then(data => {\n        const { formValues } = this;\n\n        this.updateFormValues({\n          ...formValues,\n          ...data\n        });\n      });\n    },\n\n    async save() {\n      const valid = await this.$refs.observer.validate();\n\n      if (!valid) {\n        this.$message({\n          type: 'error',\n          message: '部分表单填写错误，请检查！'\n        });\n        return;\n      }\n\n      this.showResultModal = true;\n    }\n  }\n});\n\nBasicUsage.story = {\n  name: 'Basic Usage'\n};\n\n// =============== End of Basic Usage =============== //\n\nexport default {\n  title: 'UI|FormBuilder',\n  parameters: {\n    notes: {\n      markdown\n    }\n  }\n};\n",locationsMap:{"ui-formbuilder--basic-usage":{startLoc:{col:26,line:40},endLoc:{col:2,line:320},startBody:{col:26,line:40},endBody:{col:2,line:320}}}},notes:{markdown:"# Form Builder\n\nform builder\n"}}}},243:function(module,exports,__webpack_require__){var api=__webpack_require__(241),content=__webpack_require__(1153);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},244:function(module,exports,__webpack_require__){var api=__webpack_require__(241),content=__webpack_require__(1211);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},574:function(module,exports,__webpack_require__){__webpack_require__(575),__webpack_require__(721),module.exports=__webpack_require__(722)},639:function(module,exports){},722:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(250),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(560),_storybook_theming__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(561);Object(_storybook_vue__WEBPACK_IMPORTED_MODULE_0__.addParameters)({options:{theme:_storybook_theming__WEBPACK_IMPORTED_MODULE_2__.themes.light}}),Object(_storybook_vue__WEBPACK_IMPORTED_MODULE_0__.addDecorator)(Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.withKnobs)({escapeHTML:!1})),Object(_storybook_vue__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(980)],module)}.call(this,__webpack_require__(723)(module))},980:function(module,exports,__webpack_require__){var map={"./formbuilder/FormBuilder.stories.js":1219};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=980}},[[574,1,2]]]);
//# sourceMappingURL=main.56b8738429db4d908ae7.bundle.js.map